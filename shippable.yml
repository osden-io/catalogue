build_environment: clojure
language: clojure
lein: lein2

install:
  - lein deps

before_script:
  - mkdir -p shippable/buildoutput/uberjar
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage
  
script:
  - lein test
  - lein uberjar

after_script:
  - cp -v buildoutput/uberjar/catalogue-0.0.1-SNAPSHOT-standalone.jar ./shippable/buildoutput/uberjar/catalogue-0.0.1-SNAPSHOT-standalone.jar